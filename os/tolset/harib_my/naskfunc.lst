     1 00000000                                 ;naskfunc
     2 00000000                                 ;TAB=4
     3 00000000                                 
     4 00000000                                 [FORMAT "WCOFF"]
     5 00000000                                 [INSTRSET "i486p"]
     6 00000000                                 [BITS 32]
     7 00000000                                 
     8 00000000                                 [FILE "naskfunc.nas"]
     9 00000000                                     GLOBAL      _io_hlt,_write_mem8,_io_load_eflags
    10 00000000                                     GLOBAL      _io_cli,_io_store_eflags,_io_out8
    11 00000000                                 
    12                                          [SECTION .text]
    13 00000000                                 _io_hlt:    ;void io_hlt()
    14 00000000 F4                                  HLT
    15 00000001 C3                                  RET
    16 00000002                                 
    17 00000002                                 _write_mem8:    ;void write_mem8(int addr, int data)
    18 00000002 8B 4C 24 04                         MOV     ECX,[ESP + 4]
    19 00000006 8A 44 24 08                         MOV     AL,[ESP + 8]
    20 0000000A 88 01                               MOV     [ECX],AL
    21 0000000C C3                                  RET
    22 0000000D                                 
    23 0000000D                                 _io_load_eflags:  ;int io_load_eflags()
    24 0000000D 9C                                  PUSHFD
    25 0000000E 58                                  POP     EAX
    26 0000000F C3                                  RET
    27 00000010                                 
    28 00000010                                 _io_cli:    ;void io_cli()
    29 00000010 FA                                  CLI
    30 00000011 C3                                  RET
    31 00000012                                 
    32 00000012                                 _io_store_eflags:   ;void io_store_eflags(int)
    33 00000012 8B 44 24 04                         MOV     EAX,[ESP + 4]
    34 00000016 50                                  PUSH    EAX
    35 00000017 9D                                  POPFD
    36 00000018 C3                                  RET
    37 00000019                                 _io_out8:    ;io_out8(int port,int data)
    38 00000019 8B 54 24 04                         MOV		EDX,[ESP+4]		; port
    39 0000001D 8A 44 24 08                         MOV		AL,[ESP+8]		; data
    40 00000021 EE                                  OUT		DX,AL
    41 00000022 C3                                  RET
